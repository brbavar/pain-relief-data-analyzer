{"ast":null,"code":"const jsonifyForm = form => {\n  const formKeyNodes = form.getElementsByTagName('label');\n  const formValNodes = [];\n  for (let keyNode of formKeyNodes) formValNodes.push(form.querySelector(`#${keyNode.htmlFor}`));\n  const jsonifiedForm = {};\n  for (var i = 0; i < formKeyNodes.length; i++) jsonifiedForm[formKeyNodes[i].textContent] = form.classList.contains('checkboxes') ? formValNodes[i].checked : formValNodes[i].value;\n  return jsonifiedForm;\n};\nconst onsubmitHandler = (e, userInfo, method = '', path, onfulfilled, onrejected) => {\n  e.preventDefault();\n  const form = e.target;\n  const formData = jsonifyForm(form);\n  if (userInfo && userInfo[Symbol.iterator] && typeof userInfo[Symbol.iterator] === 'function') for (let [key, val] of userInfo) formData[key] = val;\n  if (method) {\n    const req = {\n      method: method\n    };\n    if (method === 'POST') {\n      req.headers = {\n        'Content-Type': 'application/json'\n      };\n      req.body = JSON.stringify(formData);\n    }\n    fetch(`https://weak-puce-toad-garb.cyclic.app${path}${method === 'GET' ? `emails/${formData.Email}/passwords/${formData.Password}` : ''}`, req).then(onfulfilled, onrejected).catch(error => console.log(error));\n  }\n  return formData;\n};\nexport default onsubmitHandler;","map":{"version":3,"names":["jsonifyForm","form","formKeyNodes","getElementsByTagName","formValNodes","keyNode","push","querySelector","htmlFor","jsonifiedForm","i","length","textContent","classList","contains","checked","value","onsubmitHandler","e","userInfo","method","path","onfulfilled","onrejected","preventDefault","target","formData","Symbol","iterator","key","val","req","headers","body","JSON","stringify","fetch","Email","Password","then","catch","error","console","log"],"sources":["/Users/benbavar/pain-relief-data-analyzer/src/lib/onsubmitHandler.js"],"sourcesContent":["const jsonifyForm = (form) => {\n  const formKeyNodes = form.getElementsByTagName('label');\n  const formValNodes = [];\n  for (let keyNode of formKeyNodes)\n    formValNodes.push(form.querySelector(`#${keyNode.htmlFor}`));\n\n  const jsonifiedForm = {};\n  for (var i = 0; i < formKeyNodes.length; i++)\n    jsonifiedForm[formKeyNodes[i].textContent] = form.classList.contains(\n      'checkboxes'\n    )\n      ? formValNodes[i].checked\n      : formValNodes[i].value;\n\n  return jsonifiedForm;\n};\n\nconst onsubmitHandler = (\n  e,\n  userInfo,\n  method = '',\n  path,\n  onfulfilled,\n  onrejected\n) => {\n  e.preventDefault();\n\n  const form = e.target;\n  const formData = jsonifyForm(form);\n  if (\n    userInfo &&\n    userInfo[Symbol.iterator] &&\n    typeof userInfo[Symbol.iterator] === 'function'\n  )\n    for (let [key, val] of userInfo) formData[key] = val;\n\n  if (method) {\n    const req = {\n      method: method,\n    };\n\n    if (method === 'POST') {\n      req.headers = { 'Content-Type': 'application/json' };\n      req.body = JSON.stringify(formData);\n    }\n\n    fetch(\n      `https://weak-puce-toad-garb.cyclic.app${path}${\n        method === 'GET'\n          ? `emails/${formData.Email}/passwords/${formData.Password}`\n          : ''\n      }`,\n      req\n    )\n      .then(onfulfilled, onrejected)\n      .catch((error) => console.log(error));\n  }\n\n  return formData;\n};\n\nexport default onsubmitHandler;\n"],"mappings":"AAAA,MAAMA,WAAW,GAAIC,IAAI,IAAK;EAC5B,MAAMC,YAAY,GAAGD,IAAI,CAACE,oBAAoB,CAAC,OAAO,CAAC;EACvD,MAAMC,YAAY,GAAG,EAAE;EACvB,KAAK,IAAIC,OAAO,IAAIH,YAAY,EAC9BE,YAAY,CAACE,IAAI,CAACL,IAAI,CAACM,aAAa,CAAE,IAAGF,OAAO,CAACG,OAAQ,EAAC,CAAC,CAAC;EAE9D,MAAMC,aAAa,GAAG,CAAC,CAAC;EACxB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,YAAY,CAACS,MAAM,EAAED,CAAC,EAAE,EAC1CD,aAAa,CAACP,YAAY,CAACQ,CAAC,CAAC,CAACE,WAAW,CAAC,GAAGX,IAAI,CAACY,SAAS,CAACC,QAAQ,CAClE,YACF,CAAC,GACGV,YAAY,CAACM,CAAC,CAAC,CAACK,OAAO,GACvBX,YAAY,CAACM,CAAC,CAAC,CAACM,KAAK;EAE3B,OAAOP,aAAa;AACtB,CAAC;AAED,MAAMQ,eAAe,GAAGA,CACtBC,CAAC,EACDC,QAAQ,EACRC,MAAM,GAAG,EAAE,EACXC,IAAI,EACJC,WAAW,EACXC,UAAU,KACP;EACHL,CAAC,CAACM,cAAc,CAAC,CAAC;EAElB,MAAMvB,IAAI,GAAGiB,CAAC,CAACO,MAAM;EACrB,MAAMC,QAAQ,GAAG1B,WAAW,CAACC,IAAI,CAAC;EAClC,IACEkB,QAAQ,IACRA,QAAQ,CAACQ,MAAM,CAACC,QAAQ,CAAC,IACzB,OAAOT,QAAQ,CAACQ,MAAM,CAACC,QAAQ,CAAC,KAAK,UAAU,EAE/C,KAAK,IAAI,CAACC,GAAG,EAAEC,GAAG,CAAC,IAAIX,QAAQ,EAAEO,QAAQ,CAACG,GAAG,CAAC,GAAGC,GAAG;EAEtD,IAAIV,MAAM,EAAE;IACV,MAAMW,GAAG,GAAG;MACVX,MAAM,EAAEA;IACV,CAAC;IAED,IAAIA,MAAM,KAAK,MAAM,EAAE;MACrBW,GAAG,CAACC,OAAO,GAAG;QAAE,cAAc,EAAE;MAAmB,CAAC;MACpDD,GAAG,CAACE,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACT,QAAQ,CAAC;IACrC;IAEAU,KAAK,CACF,yCAAwCf,IAAK,GAC5CD,MAAM,KAAK,KAAK,GACX,UAASM,QAAQ,CAACW,KAAM,cAAaX,QAAQ,CAACY,QAAS,EAAC,GACzD,EACL,EAAC,EACFP,GACF,CAAC,CACEQ,IAAI,CAACjB,WAAW,EAAEC,UAAU,CAAC,CAC7BiB,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EACzC;EAEA,OAAOf,QAAQ;AACjB,CAAC;AAED,eAAeT,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}